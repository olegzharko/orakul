(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[6],{118:function(e,t,n){"use strict";var c=n(113),a=n(0),l=(n(139),n(402)),i=n(8);t.a=function(e){var t=e.label,n=e.onChange,o=e.value,s=void 0===o?"":o,r=e.type,d=void 0===r?"string":r,u=e.disabled,b=Object(a.useState)(s||""),j=Object(c.a)(b,2),m=j[0],O=j[1];Object(a.useEffect)((function(){O(s||"")}),[s]);return Object(i.jsx)(l.a,{label:t,variant:"outlined",value:m,onChange:function(e){O(e.target.value),n&&n(e.target.value)},type:d,className:"custom-input",disabled:u||!1})}},119:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(0),n(125);var c=n(8),a=function(e){var t=e.label,n=e.onClick,a=e.disabled,l=e.className;return Object(c.jsx)("button",{className:"primary-button ".concat(a?"disabled":""," ").concat(l||""),onClick:n,disabled:a,children:t})}},123:function(e,t,n){"use strict";var c=n(118);n.d(t,"a",(function(){return c.a}))},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(3),a=n(0),l=n(22),i=n(13),o=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.main})).modalInfo;return Object(a.useMemo)((function(){return Object(c.a)(Object(c.a)({},t),{},{handleClose:function(){return e(Object(i.d)(Object(c.a)(Object(c.a)({},t),{},{open:!1})))}})}),[t])}},128:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(0),n(126);var c=n(397),a=n(384),l=n(383),i=n(8),o=function(e){var t=e.open,n=e.handleClose,o=e.success,s=e.message;return Object(i.jsx)(c.a,{className:"modal-container",open:t,onClose:n,closeAfterTransition:!0,BackdropComponent:a.a,BackdropProps:{timeout:500},children:Object(i.jsx)(l.a,{in:t,children:Object(i.jsx)("div",{className:"modal ".concat(o?"modal-success":"modal-failed"),children:Object(i.jsx)("p",{className:"message",children:s})})})})}},138:function(e,t,n){},139:function(e,t,n){},143:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var c=n(0),a=(n(138),n(113)),l=n(22),i=n(13),o=n(15),s=function(e,t){var n=Object(c.useState)(e),l=Object(a.a)(n,2),i=l[0],o=l[1];return Object(c.useEffect)((function(){var n=setTimeout((function(){o(e)}),t);return function(){clearTimeout(n)}}),[e]),i},r=n(8),d=function(){var e=function(){var e=Object(l.b)(),t=Object(c.useState)(""),n=Object(a.a)(t,2),r=n[0],d=n[1],u=Object(c.useState)(0),b=Object(a.a)(u,2),j=b[0],m=b[1],O=s(r,1e3);return Object(c.useEffect)((function(){j?e(Object(o.f)(O)):m((function(e){return e+1}))}),[O]),{onSearch:Object(c.useCallback)((function(e){d(e.target.value)}),[r]),onLogout:Object(c.useCallback)((function(){localStorage.clear(),e(Object(i.e)({type:null,token:null}))}),[]),searchText:r}}(),t=e.onSearch,n=e.onLogout,d=e.searchText;return Object(r.jsxs)("div",{className:"header container",children:[Object(r.jsx)("div",{className:"header__logo",children:Object(r.jsx)("img",{src:"/icons/logo.svg",alt:"logo"})}),Object(r.jsxs)("div",{className:"header__search",children:[Object(r.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0448\u0443\u043a...",onChange:t,value:d}),Object(r.jsx)("img",{src:"/icons/search.svg",alt:"search"})]}),Object(r.jsx)("div",{className:"header__control",children:Object(r.jsx)("img",{src:"/icons/log-out.svg",alt:"logout",onClick:n})})]})}},146:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var c=n(113),a=n(0),l=(n(178),n(406)),i=n(354),o=n(380),s=n(396),r=n(8),d=function(e){var t=e.onChange,n=e.data,d=e.label,u=e.selectedValue,b=e.disabled,j=e.size,m=void 0===j?"medium":j,O=Object(a.useState)(u||""),v=Object(c.a)(O,2),f=v[0],h=v[1];Object(a.useEffect)((function(){h(u||"")}),[u]);return Object(r.jsxs)(o.a,{variant:"outlined",className:"customSelect",size:m,children:[Object(r.jsx)(l.a,{children:d}),Object(r.jsxs)(s.a,{value:f,onChange:function(e){var n=e.target.value;h(n),t(n)},disabled:b||0===n.length,children:[Object(r.jsx)(i.a,{value:"",children:Object(r.jsx)("em",{children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"})}),n.map((function(e){var t=e.id,n=e.title;return Object(r.jsx)(i.a,{value:t,children:n},t)}))]})]})},u=Object(a.memo)(d)},175:function(e,t,n){},177:function(e,t,n){},178:function(e,t,n){},185:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var c=n(0),a=(n(177),n(146)),l=n(113),i=n(22),o=n(42),s=n(41),r=n(8),d=function(e){var t=function(e){var t=e.onFilterDataChange,n=e.horizontal,a=Object(i.b)(),r=Object(i.c)((function(e){return e.main.user})).token,d=Object(i.c)((function(e){return e.filter})).filterInitialData;Object(c.useEffect)((function(){a(Object(o.b)())}),[r]);var u=Object(c.useMemo)((function(){return null===d||void 0===d?void 0:d.reader}),[d]),b=Object(c.useMemo)((function(){return null===d||void 0===d?void 0:d.notary}),[d]),j=Object(c.useMemo)((function(){return null===d||void 0===d?void 0:d.accompanying}),[d]),m=Object(c.useMemo)((function(){return null===d||void 0===d?void 0:d.contract_type}),[d]),O=Object(c.useMemo)((function(){return null===d||void 0===d?void 0:d.developer}),[d]),v=Object(c.useMemo)((function(){return null===d||void 0===d?void 0:d.sort_type}),[d]),f=Object(c.useState)([]),h=Object(l.a)(f,2),p=h[0],x=h[1],g=Object(c.useMemo)((function(){return Boolean(d)}),[d]),_=Object(c.useState)(null),C=Object(l.a)(_,2),y=C[0],k=C[1],N=Object(c.useState)(null),S=Object(l.a)(N,2),A=S[0],w=S[1],T=Object(c.useState)(null),D=Object(l.a)(T,2),M=D[0],z=D[1],E=Object(c.useState)(null),I=Object(l.a)(E,2),R=I[0],L=I[1],F=Object(c.useState)(null),B=Object(l.a)(F,2),V=B[0],P=B[1],J=Object(c.useState)(null),K=Object(l.a)(J,2),Q=K[0],H=K[1],W=Object(c.useState)(null),q=Object(l.a)(W,2),G=q[0],U=q[1],X=Object(c.useCallback)((function(){k(null),w(null),z(null),L(null),P(null),H(null),U(null)}),[]);return Object(c.useEffect)((function(){H(null),r&&V&&Object(s.a)(r,+V).then((function(e){return x(e.representative||[])}))}),[V]),Object(c.useEffect)((function(){var e={notary_id:y||null,reader_id:A||null,accompanying_id:M||null,contract_type_id:R||null,developer_id:V||null,dev_representative_id:Q||null};n||(e.sort_type=G),t(e)}),[y,A,M,R,V,Q,G]),{shouldRenderFilter:g,notaries:b,readers:u,accompanyings:j,contractTypes:m,developers:O,representative:p,sortType:v,selectedNotary:y,selectedReader:A,selectedRepresentative:Q,selectedDeveloper:V,selectedContractType:R,selectedAccompanying:M,selectedSortType:G,setSelectedNotary:k,setSelectedReader:w,setSelectedAccompanying:z,setSelectedContractType:L,setSelectedDeveloper:P,setSelectedRepresentative:H,setSelectedSortType:U,clearAll:X}}(e);return t.shouldRenderFilter?Object(r.jsxs)("div",{className:"filter ".concat(e.horizontal?"horizontal":""),children:[Object(r.jsxs)("div",{className:"filter__header",children:[Object(r.jsx)("span",{style:{whiteSpace:"nowrap"},className:"".concat(e.horizontal?"":"title"),children:e.horizontal?"\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u043f\u043e:":"\u0424\u0456\u043b\u044c\u0442\u0440"}),!e.horizontal&&Object(r.jsx)("img",{src:"/icons/clear-form.svg",alt:"clear form",onClick:t.clearAll,className:"filter__clear"})]}),Object(r.jsx)("div",{className:"filter__select",style:{width:e.horizontal?"115px":"100%"},children:Object(r.jsx)(a.a,{data:t.notaries,selectedValue:t.selectedNotary,onChange:t.setSelectedNotary,label:"\u041d\u043e\u0442\u0430\u0440\u0456\u0443\u0441",size:e.horizontal?"small":"medium"})}),Object(r.jsx)("div",{className:"filter__select",style:{width:e.horizontal?"90px":"100%"},children:Object(r.jsx)(a.a,{data:t.readers,selectedValue:t.selectedReader,onChange:t.setSelectedReader,label:"\u0427\u0438\u0442\u0430\u0447",size:e.horizontal?"small":"medium"})}),Object(r.jsx)("div",{className:"filter__select",style:{width:e.horizontal?"110px":"100%"},children:Object(r.jsx)(a.a,{data:t.accompanyings,selectedValue:t.selectedAccompanying,onChange:t.setSelectedAccompanying,label:"\u0412\u0438\u0434\u0430\u0432\u0430\u0447",size:e.horizontal?"small":"medium"})}),Object(r.jsx)("div",{className:"filter__select",style:{width:e.horizontal?"150px":"100%"},children:Object(r.jsx)(a.a,{data:t.contractTypes,selectedValue:t.selectedContractType,onChange:t.setSelectedContractType,label:"\u0422\u0438\u043f \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0443",size:e.horizontal?"small":"medium"})}),Object(r.jsx)("div",{className:"filter__select",style:{width:e.horizontal?"140px":"100%"},children:Object(r.jsx)(a.a,{data:t.developers,selectedValue:t.selectedDeveloper,onChange:t.setSelectedDeveloper,label:"\u0417\u0430\u0431\u0443\u0434\u043e\u0432\u043d\u0438\u043a",size:e.horizontal?"small":"medium"})}),Object(r.jsx)("div",{className:"filter__select",style:{width:e.horizontal?"125px":"100%"},children:Object(r.jsx)(a.a,{data:t.representative,selectedValue:t.selectedRepresentative,onChange:t.setSelectedRepresentative,label:"\u041f\u0456\u0434\u043f\u0438\u0441\u0430\u043d\u0442",size:e.horizontal?"small":"medium"})}),!e.horizontal&&Object(r.jsx)("div",{className:"filter__select",children:Object(r.jsx)(a.a,{data:t.sortType,selectedValue:t.selectedSortType,onChange:t.setSelectedSortType,label:"\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438",size:"medium"})}),e.horizontal&&Object(r.jsx)("div",{className:" df",children:Object(r.jsx)("img",{src:"/icons/clear-form.svg",alt:"clear form",onClick:t.clearAll,className:"filter__clear"})})]}):null}},188:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n(113),a=n(0),l=n(387),i=n(304),o=(n(175),n(8)),s=function(e){var t=e.label,n=e.onChange,s=e.selected,r=e.disabled,d=Object(a.useState)(s),u=Object(c.a)(d,2),b=u[0],j=u[1];return Object(a.useEffect)((function(){j(s)}),[s]),Object(o.jsx)(l.a,{control:Object(o.jsx)(i.a,{checked:b,onChange:function(e){j(e.target.checked),n(e.target.checked)},name:"checkedB",color:"primary"}),label:t,labelPlacement:"start",className:"custom-switch",disabled:r||!1})},r=Object(a.memo)(s)},307:function(e,t,n){},308:function(e,t,n){},309:function(e,t,n){},310:function(e,t,n){},324:function(e,t,n){},325:function(e,t,n){},326:function(e,t,n){},327:function(e,t,n){},328:function(e,t,n){},329:function(e,t,n){},330:function(e,t,n){},331:function(e,t,n){},332:function(e,t,n){},390:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ne}));var c=n(0),a=n(143),l=n(3),i=(n(307),n(308),n(398)),o=n(1),s=n.n(o),r=n(2),d=n(22),u=n(17),b=n(15),j=function(e,t,n,c,a){var l=n[Math.floor(c/e.length)],i=l.day,o=l.date,s=l.year,r=e[c%e.length].time,d=t[a].id;return{day:i,date:o.split(".").reverse().join("."),year:s,time:r,room:d}},m=n(23),O=(n(309),n(8)),v=function(e){var t=e.day,n=e.hours;return Object(O.jsxs)("div",{className:"scheduler__weekDay",children:[Object(O.jsx)("div",{className:"scheduler__day",children:Object(O.jsxs)("p",{children:[t.day,Object(O.jsx)("br",{}),t.date]})}),Object(O.jsx)("div",{className:"scheduler__timeLine",children:n.map((function(e){var t=e.time;return Object(O.jsx)("p",{children:t},t)}))})]})},f=n(113),h=(n(310),n(311)),p=n.n(h),x=n(322),g=n.n(x),_=Object(h.WidthProvider)(p.a);function C(e){var t=e.appointments,n=e.cols,a=e.handleDrag,l=e.handleClick,o=Object(c.useState)(1200),s=Object(f.a)(o,2),r=s[0],u=s[1],b=Object(d.c)((function(e){return e.scheduler})).schedulerLock;Object(c.useEffect)((function(){u(g()(".scheduler__appointments").width())}),[]);return t?Object(O.jsx)(_,{className:"scheduler__dragAndDrop",cols:n,rowHeight:75,width:r,margin:[0,0],containerPadding:[0,0],verticalCompact:!1,preventCollision:!0,layout:t,onDragStop:function(e,t){var n=e.find((function(e){return e.i===t.i}));a(n)},isDraggable:!b,children:t.map((function(e){return Object(O.jsxs)("div",{className:"appointment",style:{borderLeft:"4px solid ".concat(e.color)},onClick:function(){return l(e)},children:[Object(O.jsx)("div",{className:"appointment__title",children:e.title}),Object(O.jsx)("table",{className:"appointment__table",children:Object(O.jsx)("tbody",{children:Object(O.jsx)("tr",{children:Object.values(e.short_info).map((function(e){return Object(O.jsx)("td",{children:e},Object(i.a)())}))})})})]},e.i)}))}):Object(O.jsx)("span",{children:"Loading..."})}var y=n(323),k=n.n(y),N=function(e){var t=function(e){var t=e.raw,n=e.cell,a=Object(d.c)((function(e){return e.scheduler})).options,i=Object(d.b)(),o=Object(c.useMemo)((function(){return null===a||void 0===a?void 0:a.rooms}),[a]),s=Object(c.useMemo)((function(){return null===a||void 0===a?void 0:a.work_time}),[a]),r=Object(c.useMemo)((function(){return null===a||void 0===a?void 0:a.day_and_date}),[a]);return{onClick:Object(c.useCallback)((function(){var e=j(s,o,r,t,n);k()("".concat(e.year,".").concat(e.date,". ").concat(e.time)).isBefore(k()())||i(Object(u.l)(Object(l.a)(Object(l.a)({},e),{},{raw:t,cell:n})))}),[s,o,r,t,n])}}(e).onClick;return Object(O.jsx)("td",{onClick:t,style:{width:"calc(100% / ".concat(e.rowsQuantity,")"),backgroundColor:e.selected?"#E5E5E5":""}})};function S(e){var t=e.rows,n=e.columns,c={newSelectedAppointment:Object(d.c)((function(e){return e.scheduler.newSelectedAppointment}))}.newSelectedAppointment;return Object(O.jsx)("div",{className:"scheduler__bodyTable",children:Object(O.jsx)("table",{children:Object(O.jsx)("tbody",{children:t.map((function(e,a){return Object(O.jsx)("tr",{children:n.map((function(e,n){return Object(O.jsx)(N,{selected:(null===c||void 0===c?void 0:c.raw)===a&&(null===c||void 0===c?void 0:c.cell)===n,rowsQuantity:t.length,raw:a,cell:n},Object(i.a)())}))},Object(i.a)())}))})})})}var A=function(){var e=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.main.user})).token,n=Object(d.c)((function(e){return e.scheduler})),a=n.options,i=n.isLoading,o=Object(d.c)((function(e){return e.appointments})).appointments;Object(c.useEffect)((function(){return i||(e(Object(u.f)()),e(Object(b.d)())),function(){e(Object(b.g)([]))}}),[t]);var m=Object(c.useMemo)((function(){return null===a||void 0===a?void 0:a.rooms}),[a]),O=Object(c.useMemo)((function(){return null===a||void 0===a?void 0:a.work_time}),[a]),v=Object(c.useMemo)((function(){return i||!a}),[i,m,O]),f=Object(c.useMemo)((function(){return new Array((null===m||void 0===m?void 0:m.length)||0).fill(1)}),[m]),h=Object(c.useMemo)((function(){return null===a||void 0===a?void 0:a.day_and_date}),[a]),p=Object(c.useMemo)((function(){return new Array((null===O||void 0===O?void 0:O.length)*(null===h||void 0===h?void 0:h.length)||0).fill(1)}),[O]),x=Object(c.useCallback)((function(t){var n=j(O,m,h,t.y,t.x),c=n.year,a=n.date,l=n.time,i=n.room,o={date_time:"".concat(c,".").concat(a,". ").concat(l),room_id:i};e(Object(u.g)(o,t.i))}),[O,h,m,h]),g=Object(c.useCallback)(function(){var t=Object(r.a)(s.a.mark((function t(n){var c,a,i,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=n.x,a=n.y,i=n.i,o=j(O,m,h,a,c),e(Object(u.d)(i)),e(Object(u.m)(Object(l.a)(Object(l.a)({},o),{},{i:i})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[O,m,h]);return{shouldLoad:v,rooms:m,hours:O,tableRows:p,tableColumns:f,days:h,appointments:o,handleAppointmentDrag:x,onAppointmentClick:g}}(),t=e.shouldLoad,n=e.rooms,a=e.hours,o=e.tableRows,f=e.tableColumns,h=e.days,p=e.appointments,x=e.handleAppointmentDrag,g=e.onAppointmentClick;return t?Object(O.jsx)("div",{className:"scheduler",children:Object(O.jsx)(m.a,{})}):Object(O.jsxs)("div",{className:"scheduler",children:[Object(O.jsxs)("div",{className:"scheduler__header",children:[Object(O.jsx)("div",{}),Object(O.jsx)("div",{children:Object(O.jsx)("table",{children:Object(O.jsx)("tbody",{children:Object(O.jsx)("tr",{children:n.map((function(e){var t=e.title;return Object(O.jsx)("td",{style:{width:"calc(100% / ".concat(n.length,")")},children:t},t)}))})})})})]}),Object(O.jsxs)("div",{className:"scheduler__body",children:[Object(O.jsx)("div",{className:"scheduler__dayBar",children:h.map((function(e){return Object(O.jsx)(v,{day:e,hours:a},Object(i.a)())}))}),Object(O.jsxs)("div",{className:"scheduler__appointments",children:[Object(O.jsx)(S,{rows:o,columns:f}),Object(O.jsx)(C,{appointments:p,cols:f.length,handleDrag:x,handleClick:g})]})]})]})},w=function(){var e=Object(d.c)((function(e){return e.appointments})).appointments;return Object(O.jsx)("span",{style:{whiteSpace:"nowrap"},children:"\u0412 \u0440\u043e\u0431\u043e\u0442\u0456: ".concat(null===e||void 0===e?void 0:e.length)})},T=n(185),D=function(){var e=function(){var e=Object(c.useState)(!1),t=Object(f.a)(e,2),n=t[0],a=t[1],l=Object(d.b)();return{onFilterDataChange:Object(c.useCallback)((function(e){n?l(Object(b.e)(e)):a(!0)}),[n])}}().onFilterDataChange;return Object(O.jsx)(T.a,{onFilterDataChange:e,horizontal:!0})},M=(n(324),function(){var e=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.scheduler})).schedulerLock;return{onClick:Object(c.useCallback)((function(){e(Object(u.k)(!t))}),[t]),schedulerLock:t}}(),t=e.onClick,n=e.schedulerLock;return Object(O.jsx)("div",{className:"scheduler__lock-button ".concat(n?"":"unLock"),children:Object(O.jsx)("img",{src:"/icons/lock.svg",alt:"lock",onClick:t})})}),z=(n(325),function(){return Object(O.jsxs)("div",{className:"scheduler__filter",children:[Object(O.jsx)(w,{}),Object(O.jsx)(D,{}),Object(O.jsx)(M,{})]})}),E=(n(326),n(327),function(e){var t=e.buttons,n=e.onChange,a=e.selected,l=e.unicId,i=Object(c.useState)(a||t[0].id),o=Object(f.a)(i,2),s=o[0],r=o[1];Object(c.useEffect)((function(){r(a||t[0].id)}),[a]);var d=function(e){n(e)};return Object(O.jsx)("div",{className:"radio-buttons-group",children:t.map((function(e){var n=e.id,c=e.title;return Object(O.jsxs)("div",{className:"radio-buttons-group__element ".concat(1===t.length?"edit":""),children:[Object(O.jsx)("input",{type:"radio",id:l+c,value:n,checked:s===n,onChange:function(){return d(n)},className:"input"}),Object(O.jsx)("label",{htmlFor:l+c,className:"label",children:c})]})}))})}),I=Object(c.memo)(E),R=n(146),L=(n(328),n(329),n(330),function(e){var t=e.onClick,n=e.disabled,c=function(){n||t()};return Object(O.jsx)("div",{className:"add-form-button ".concat(n?"disabled":""),onClick:c,onKeyPress:c,children:Object(O.jsx)("img",{src:"/icons/plus.svg",alt:"plus"})})}),F=n(118),B=(n(331),function(e){var t=e.onClick,n=e.index,c=e.disabled;return Object(O.jsx)("div",{className:"remove-form-button ".concat(c?"disabled":""),onClick:function(){c||t(n)},onKeyPress:function(){return t(n)},children:Object(O.jsx)("img",{src:"/icons/minus.svg",alt:"minus"})})}),V=function(e){var t=function(e){var t=e.onChange,n=e.clients;return{onPhoneChange:Object(c.useCallback)((function(e,c){t(e,Object(l.a)(Object(l.a)({},n[e]),{},{phone:c}))}),[n]),onNameChange:Object(c.useCallback)((function(e,c){t(e,Object(l.a)(Object(l.a)({},n[e]),{},{full_name:c}))}),[n])}}(e);return Object(O.jsx)("div",{className:"mv12",children:e.clients.map((function(n,c){return Object(O.jsxs)("div",{className:"clients__item mv12",children:[Object(O.jsx)(F.a,{label:"\u041f\u0406\u0411",value:n.full_name,onChange:function(e){return t.onNameChange(c,e)},disabled:e.disabled||!1}),Object(O.jsxs)("div",{className:"mv12 df-jc-sb",children:[Object(O.jsx)(F.a,{label:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443",value:n.phone,onChange:function(e){return t.onPhoneChange(c,e)},disabled:e.disabled||!1}),e.clients.length>1&&Object(O.jsx)("div",{style:{marginLeft:"12px"},children:Object(O.jsx)(B,{onClick:e.onRemove,index:c,disabled:e.disabled||!1})}),c===e.clients.length-1&&Object(O.jsx)("div",{style:{marginLeft:"12px"},children:Object(O.jsx)(L,{onClick:e.onAdd,disabled:e.disabled||!1})})]})]})}))})},P=Object(c.memo)(V),J=n(119),K=(n(332),n(123)),Q=n(188),H=function(e){var t=function(e){var t=e.immovables,n=e.onChange,a=Object(d.c)((function(e){return e.scheduler})),i=a.options,o=a.developersInfo;return{building:Object(c.useMemo)((function(){return(null===o||void 0===o?void 0:o.building)||[]}),[o]),contracts:Object(c.useMemo)((function(){return null===i||void 0===i?void 0:i.form_data.contract_type}),[i]),immovableTypes:Object(c.useMemo)((function(){return null===i||void 0===i?void 0:i.form_data.immovable_type}),[i]),onContractChange:Object(c.useCallback)((function(e,c){n(e,Object(l.a)(Object(l.a)({},t[e]),{},{contract_type_id:c}))}),[t]),onBuildingChange:Object(c.useCallback)((function(e,c){n(e,Object(l.a)(Object(l.a)({},t[e]),{},{building_id:+c}))}),[t]),onImmovableTypeChange:Object(c.useCallback)((function(e,c){n(e,Object(l.a)(Object(l.a)({},t[e]),{},{imm_type_id:c}))}),[t]),onBankChange:Object(c.useCallback)((function(e,c){n(e,Object(l.a)(Object(l.a)({},t[e]),{},{bank:c}))}),[t]),onProxyChange:Object(c.useCallback)((function(e,c){n(e,Object(l.a)(Object(l.a)({},t[e]),{},{proxy:c}))}),[t]),onImmNumChange:Object(c.useCallback)((function(e,c){n(e,Object(l.a)(Object(l.a)({},t[e]),{},{imm_number:+c}))}),[t])}}(e);return Object(O.jsx)("div",{className:"mv12 immovables__group",children:e.immovables.map((function(n,c){return Object(O.jsxs)("div",{className:"immovables__item mv12",children:[Object(O.jsx)(I,{buttons:e.disabled?t.contracts.filter((function(e){return e.id===(n.contract_type_id||t.contracts[0].id)})):t.contracts,onChange:function(e){return t.onContractChange(c,e)},selected:n.contract_type_id,unicId:"contract-".concat(c)}),Object(O.jsx)("div",{className:"mv12",children:Object(O.jsx)(R.a,{onChange:function(e){return t.onBuildingChange(c,e)},data:t.building,label:"\u0411\u0443\u0434\u0438\u043d\u043e\u043a",selectedValue:n.building_id,disabled:e.disabled||!1})}),Object(O.jsx)(I,{buttons:e.disabled?t.immovableTypes.filter((function(e){return e.id===(n.imm_type_id||t.immovableTypes[0].id)})):t.immovableTypes,onChange:function(e){return t.onImmovableTypeChange(c,e)},selected:n.imm_type_id,unicId:"types-".concat(c)}),Object(O.jsx)("div",{className:"mv12",children:Object(O.jsx)(Q.a,{label:"\u0411\u0430\u043d\u043a",onChange:function(e){return t.onBankChange(c,e)},selected:n.bank,disabled:e.disabled})}),Object(O.jsx)("div",{className:"mv12",children:Object(O.jsx)(Q.a,{label:"\u0414\u043e\u0432\u0456\u0440\u0435\u043d\u0456\u0441\u0442\u044c",onChange:function(e){return t.onProxyChange(c,e)},selected:n.proxy,disabled:e.disabled})}),Object(O.jsxs)("div",{className:"mv12 df-jc-sb",children:[Object(O.jsx)(K.a,{label:"\u041d\u043e\u043c\u0435\u0440 \u043f\u0440\u0438\u043c\u0456\u0449\u0435\u043d\u043d\u044f",onChange:function(e){return t.onImmNumChange(c,e)},value:n.imm_number,disabled:e.disabled},"test"),e.immovables.length>1&&Object(O.jsx)("div",{style:{marginLeft:"12px"},children:Object(O.jsx)(B,{onClick:e.onRemove,index:c,disabled:e.disabled})}),c===e.immovables.length-1&&Object(O.jsx)("div",{style:{marginLeft:"12px"},children:Object(O.jsx)(L,{onClick:e.onAdd,disabled:e.disabled})})]})]})}))})},W=Object(c.memo)(H),q=n(28),G={contract_type_id:null,building_id:null,imm_type_id:null,imm_number:null,bank:!1,proxy:!1},U={phone:null,full_name:null},X=function(e){var t=function(e){var t=e.selectedCard,n=e.initialValues,a=e.edit,i=Object(d.b)(),o=Object(d.c)((function(e){return e.main.user})).token,s=Object(d.c)((function(e){return e.scheduler})),r=s.options,b=s.developersInfo,j=s.isLoading,m=Object(c.useState)(a||!1),O=Object(f.a)(m,2),v=O[0],h=O[1],p=Object(c.useState)((null===n||void 0===n?void 0:n.card.notary_id)||null),x=Object(f.a)(p,2),g=x[0],_=x[1],C=Object(c.useState)(null),y=Object(f.a)(C,2),k=y[0],N=y[1],S=Object(c.useState)(null),A=Object(f.a)(S,2),w=A[0],T=A[1],D=Object(c.useState)(null),M=Object(f.a)(D,2),z=M[0],E=M[1],I=Object(c.useState)([G]),R=Object(f.a)(I,2),L=R[0],F=R[1],B=Object(c.useState)([U]),V=Object(f.a)(B,2),P=V[0],J=V[1],K=Object(c.useMemo)((function(){return j||!r}),[r,j]),Q=Object(c.useMemo)((function(){return null===r||void 0===r?void 0:r.form_data.notary}),[r]),H=Object(c.useMemo)((function(){return null===r||void 0===r?void 0:r.form_data.developer}),[r]),W=Object(c.useMemo)((function(){return(null===b||void 0===b?void 0:b.manager)||[]}),[b]),X=Object(c.useMemo)((function(){return(null===b||void 0===b?void 0:b.representative)||[]}),[b]),Y=Object(c.useCallback)((function(e){_(e)}),[]);Object(c.useEffect)((function(){n&&(h(!0),_(n.card.notary_id),N(n.card.dev_company_id),T(n.card.dev_representative_id),E(n.card.dev_manager_id),F(0===n.immovables.length?[G]:n.immovables),J(0===n.clients.length?[U]:n.clients)),(null===n||void 0===n?void 0:n.card.dev_company_id)&&i(Object(u.e)(n.card.dev_company_id))}),[n]);var Z=Object(c.useCallback)((function(e){N(e),E(null),T(null),e||i(Object(u.i)({})),i(Object(u.e)(e))}),[]),$=Object(c.useCallback)((function(e){T(e)}),[w]),ee=Object(c.useCallback)((function(e){E(e)}),[z]),te=Object(c.useCallback)((function(e,t){L[e]=t,F(Object(q.a)(L))}),[L]),ne=Object(c.useCallback)((function(e,t){P[e]=t,J(Object(q.a)(P))}),[P]),ce=Object(c.useCallback)((function(){_(null),N(null),T(null),E(null),F([G]),J([U])}),[]),ae=Object(c.useCallback)((function(){F([].concat(Object(q.a)(L),[G]))}),[L]),le=Object(c.useCallback)((function(e){F((function(t){return t.filter((function(t,n){return n!==e}))}))}),[L]),ie=Object(c.useCallback)((function(){J([].concat(Object(q.a)(P),[U]))}),[P]),oe=Object(c.useCallback)((function(e){J((function(t){return t.filter((function(t,n){return n!==e}))}))}),[P]),se=Object(c.useCallback)((function(){i(Object(u.h)(t.i))}),[t]),re=Object(c.useMemo)((function(){return Boolean(k)&&L.length&&L.every((function(e){return e.building_id&&e.imm_number}))&&t}),[k,L,t]),de=Object(c.useCallback)((function(){var e="".concat(t.year,".").concat(t.date,". ").concat(t.time),n={immovables:L.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{contract_type_id:e.contract_type_id||r.form_data.immovable_type[0].id,imm_type_id:e.imm_type_id||r.form_data.immovable_type[0].id})})),clients:P,date_time:e,dev_company_id:k,dev_representative_id:w,dev_manager_id:z,room_id:t.room,notary_id:g||Q[0].id};o&&(a?(i(Object(u.c)(n,t.i)),h(!0)):(i(Object(u.b)(n)),i(Object(u.l)(null)),ce()))}),[k,w,z,g,L,P,a,t]);return{shouldLoad:K,notaries:Q,representative:X,developers:H,manager:W,immovables:L,clients:P,activeAddButton:re,insideEdit:v,onNotaryChange:Y,onDeveloperChange:Z,onRepresentativeChange:$,onManagerChange:ee,onImmovablesChange:te,onAddImmovables:ae,onRemoveImmovable:le,onRemoveClient:oe,onClientsChange:ne,onAddClients:ie,onClearAll:ce,onFormCreate:de,setEdit:h,onDeleteCard:se,selectedNotaryId:g,selectedDeveloperId:k,selectedDevRepresentativeId:w,selecedDevManagerId:z}}(e);return t.shouldLoad?Object(O.jsx)("div",{className:"schedulerForm",children:Object(O.jsx)(m.a,{})}):Object(O.jsx)("div",{className:"schedulerForm",children:Object(O.jsxs)("div",{className:"schedulerForm__forms",children:[Object(O.jsxs)("div",{className:"schedulerForm__header",children:[Object(O.jsx)("p",{className:"title",children:t.insideEdit||e.edit?"\u0417\u0430\u043f\u0438\u0441 \u2116 ".concat(e.selectedCard.i):"\u041d\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441"}),t.insideEdit?Object(O.jsx)("img",{src:"/icons/delete.svg",alt:"delete",className:"clear-icon",onClick:t.onDeleteCard}):Object(O.jsx)("img",{src:"/icons/clear.svg",alt:"clear",className:"clear-icon",onClick:t.onClearAll})]}),Object(O.jsx)("div",{className:"mv12",children:Object(O.jsx)(I,{buttons:t.insideEdit?t.notaries.filter((function(e){return e.id===t.selectedNotaryId})):t.notaries,onChange:t.onNotaryChange,selected:t.selectedNotaryId,unicId:"notaries"})}),Object(O.jsx)("div",{className:"mv12",children:Object(O.jsx)(R.a,{label:"\u0417\u0430\u0431\u0443\u0434\u043e\u0432\u043d\u0438\u043a",data:t.developers,onChange:t.onDeveloperChange,selectedValue:t.selectedDeveloperId,disabled:t.insideEdit||!1})}),Object(O.jsx)("div",{className:"mv12",children:Object(O.jsx)(R.a,{onChange:t.onRepresentativeChange,data:t.representative,label:"\u041f\u0456\u0434\u043f\u0438\u0441\u0430\u043d\u0442",selectedValue:t.selectedDevRepresentativeId,disabled:t.insideEdit||!1})}),Object(O.jsx)("div",{className:"mv12",children:Object(O.jsx)(R.a,{onChange:t.onManagerChange,data:t.manager,label:"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440",selectedValue:t.selecedDevManagerId,disabled:t.insideEdit||!1})}),Object(O.jsx)(W,{immovables:t.immovables,onChange:t.onImmovablesChange,onAdd:t.onAddImmovables,onRemove:t.onRemoveImmovable,disabled:t.insideEdit||!1}),Object(O.jsx)(P,{clients:t.clients,onChange:t.onClientsChange,onAdd:t.onAddClients,onRemove:t.onRemoveClient,disabled:t.insideEdit||!1}),Object(O.jsxs)("div",{className:"mv12",children:[t.insideEdit&&Object(O.jsx)(J.a,{label:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",onClick:function(){return t.setEdit(!1)},disabled:!e.edit&&!t.activeAddButton,className:"schedulerForm__editButton"}),!t.insideEdit&&Object(O.jsx)(J.a,{label:"".concat(e.edit?"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438":"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438"),onClick:t.onFormCreate,disabled:!t.activeAddButton})]})]})})},Y=Object(c.memo)(X),Z=function(){var e=function(){var e=Object(d.b)(),t=Object(c.useState)(0),n=Object(f.a)(t,2),a=n[0],l=n[1],i=Object(d.c)((function(e){return e.scheduler.newSelectedAppointment})),o=Object(d.c)((function(e){return e.scheduler.oldSelectedAppointment})),s=Object(d.c)((function(e){return e.scheduler.editAppointmentData})),r=Object(c.useCallback)((function(){e(Object(u.m)(null)),e(Object(u.j)(null))}),[]);return Object(c.useEffect)((function(){l(s?1:0)}),[s]),Object(c.useEffect)((function(){l(0)}),[i]),{newSelectedAppointment:i,oldSelectedAppointment:o,editAppointmentData:s,selectedTab:a,setSelectedTab:l,onCloseTab:r}}();return Object(O.jsxs)("div",{className:"schedulerForm scheduler__form",children:[Object(O.jsxs)("div",{className:"schedulerForm__tabs",children:[Object(O.jsx)("div",{className:"item ".concat(0===e.selectedTab?"selected":""),style:{backgroundColor:e.editAppointmentData?"":"white"},onClick:function(){return e.setSelectedTab(0)},children:e.newSelectedAppointment?"".concat(e.newSelectedAppointment.day," ").concat(e.newSelectedAppointment.time," ").concat(e.newSelectedAppointment.date):"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0430\u0442\u0443"}),e.oldSelectedAppointment&&e.editAppointmentData&&Object(O.jsxs)("div",{className:"item ".concat(1===e.selectedTab?"selected":""),onClick:function(){return e.setSelectedTab(1)},children:["".concat(e.oldSelectedAppointment.day," ").concat(e.oldSelectedAppointment.time," ").concat(e.oldSelectedAppointment.date),Object(O.jsx)("img",{src:"/icons/x.svg",alt:"close",className:"clear-icon",onClick:e.onCloseTab})]})]}),0===e.selectedTab&&Object(O.jsx)(Y,{selectedCard:e.newSelectedAppointment}),1===e.selectedTab&&e.editAppointmentData&&e.oldSelectedAppointment&&Object(O.jsx)(Y,{selectedCard:e.oldSelectedAppointment,initialValues:e.editAppointmentData,edit:!0})]})},$=n(127),ee=n(128),te=function(){var e=Object($.a)();return Object(O.jsxs)("div",{className:"scheduler__container",children:[Object(O.jsxs)("div",{className:"scheduler__dataView",children:[Object(O.jsx)(z,{}),Object(O.jsx)(A,{})]}),Object(O.jsx)(Z,{}),Object(O.jsx)(ee.a,Object(l.a)({},e))]})},ne=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(a.a,{}),Object(O.jsx)(te,{})]})}}}]);
//# sourceMappingURL=6.28b648a5.chunk.js.map