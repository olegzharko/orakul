(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{112:function(e,t,n){},117:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},170:function(e,t,n){},171:function(e,t,n){},172:function(e,t,n){},173:function(e,t,n){},174:function(e,t,n){},175:function(e,t,n){},176:function(e,t,n){},177:function(e,t,n){},178:function(e,t,n){},179:function(e,t,n){},180:function(e,t,n){},181:function(e,t,n){},182:function(e,t,n){},183:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(13),o=n.n(r),i=(n(112),n(14)),s=(n(117),n(5)),l=n.n(s),u=n(9),d="http://app.synction.space",b=n(6),j=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,c,a,r,o,i,s,u,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,c=t.method,a=void 0===c?"GET":c,r=t.headers,o=void 0===r?{}:r,i=t.bodyData,s={body:void 0,method:a||"GET",headers:Object(b.a)({Accept:"application/json","Content-Type":"applicatioin/json"},o)},i&&(s.body=JSON.stringify(i)),e.next=5,fetch(n,s);case 5:return u=e.sent,e.next=8,u.json();case 8:return d=e.sent,e.abrupt("return",d);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function p(){return m.apply(this,arguments)}function m(){return(m=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j({url:"".concat(d,"/api/login?email=oleg99@gmail.com&password=admin123"),method:"POST"});case 3:return t=e.sent,e.abrupt("return",t.data.token);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var f="SET_TOKEN",v=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:n=e.sent,t({type:f,payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=(n(119),n(120),n(223));function h(e){return x.apply(this,arguments)}function x(){return(x=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j({url:"".concat(d,"/api/cards"),headers:{Authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var y="SET_OPTIONS",_="SET_APPOINTMENTS",g="SET_DEVELOPERS_INFO",C="SET_SELECTED_NEW_APPOINTMENT",k="SET_SELECTED_OLD_APPOINTMENT",N="SET_EDIT_APPOINTMENT_DATA",w="SET_IS_LOADING",S="ADD_NEW_APPOINTMENT",A="SET_MODAL_INFO",E="EDIT_APPOINTMENTS",T="SET_FILTER_INITIAL_DATA",I=function(e){return{type:_,payload:e}},D=function(e){return{type:g,payload:e}},M=function(e){return{type:C,payload:e}},P=function(e){return{type:k,payload:e}},B=function(e){return{type:N,payload:e}},L=function(e){return{type:E,payload:e}},R=function(e){return{type:A,payload:e}},z=function(e){return{type:w,payload:e}},F=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(z(!0)),e.next=3,h(n);case 3:c=e.sent,t(I(Object.values(c))),t(z(!1));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function V(e,t){return G.apply(this,arguments)}function G(){return(G=Object(u.a)(l.a.mark((function e(t,n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j({url:"".concat(d,"/api/cards/").concat(n),headers:{Authorization:"Bearer ".concat(t)}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var J=function(){var e=Object(u.a)(l.a.mark((function e(t,n,c){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(n,c);case 2:a=e.sent,t(B(a));case 4:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}();function K(e){return W.apply(this,arguments)}function W(){return(W=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j({url:"".concat(d,"/api/calendar"),headers:{Authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var Q=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(z(!0)),e.next=3,K(n);case 3:c=e.sent,t({type:y,payload:c}),t(z(!1));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),U=function(e,t,n,c,a){var r=n[Math.floor(c/e.length)],o=r.day,i=r.date,s=r.year,l=e[c%e.length].time,u=t[a].id;return{day:o,date:i.split(".").reverse().join("."),year:s,time:l,room:u}};function H(e,t,n){return q.apply(this,arguments)}function q(){return(q=Object(u.a)(l.a.mark((function e(t,n,c){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j({url:"".concat(d,"/api/cards/move/").concat(c),headers:{Authorization:"Bearer ".concat(t)},method:"PUT",bodyData:n});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var X=function(){var e=Object(u.a)(l.a.mark((function e(t,n,c,a){var r,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(n,c,a);case 2:r=e.sent,o=r.success,i=r.data,o&&t(L(i));case 6:case"end":return e.stop()}}),e)})));return function(t,n,c,a){return e.apply(this,arguments)}}(),Y=n(87),Z=n(2),$=function(){return Object(Z.jsx)(Y.LoopCircleLoading,{color:"#165153"})},ee=(n(158),function(e){var t=e.day,n=e.hours;return Object(Z.jsxs)("div",{className:"scheduler__weekDay",children:[Object(Z.jsx)("div",{className:"scheduler__day",children:Object(Z.jsxs)("p",{children:[t.day,Object(Z.jsx)("br",{}),t.date]})}),Object(Z.jsx)("div",{className:"scheduler__timeLine",children:n.map((function(e){var t=e.time;return Object(Z.jsx)("p",{children:t},t)}))})]})}),te=n(16),ne=(n(159),n(67)),ce=n.n(ne),ae=n(90),re=n.n(ae),oe=Object(ne.WidthProvider)(ce.a);function ie(e){var t=e.appointments,n=e.cols,a=e.handleDrag,r=e.handleClick,o=Object(c.useState)(1200),i=Object(te.a)(o,2),s=i[0],l=i[1];Object(c.useEffect)((function(){l(re()(".scheduler__appointments").width())}),[]);return t?Object(Z.jsx)(oe,{className:"scheduler__dragAndDrop",cols:n,rowHeight:75,width:s,margin:[0,0],containerPadding:[0,0],verticalCompact:!1,preventCollision:!0,layout:t,onDragStop:function(e,t){var n=e.find((function(e){return e.i===t.i}));a(n)},children:t.map((function(e){return Object(Z.jsxs)("div",{className:"appointment",style:{borderLeft:"4px solid ".concat(e.color)},onClick:function(){return r(e)},children:[Object(Z.jsx)("div",{className:"appointment__title",children:e.title}),Object(Z.jsx)("table",{className:"appointment__table",children:Object(Z.jsx)("tbody",{children:Object(Z.jsx)("tr",{children:Object.values(e.short_info).map((function(e){return Object(Z.jsx)("td",{children:e},Object(O.a)())}))})})})]},e.i)}))}):Object(Z.jsx)("span",{children:"Loading..."})}var se=n(68),le=n.n(se),ue=function(e){var t=function(e){var t=e.raw,n=e.cell,a=Object(i.c)((function(e){return e.scheduler})).options,r=Object(i.b)(),o=Object(c.useMemo)((function(){return null===a||void 0===a?void 0:a.rooms}),[a]),s=Object(c.useMemo)((function(){return null===a||void 0===a?void 0:a.work_time}),[a]),l=Object(c.useMemo)((function(){return null===a||void 0===a?void 0:a.day_and_date}),[a]);return{onClick:Object(c.useCallback)((function(){var e=U(s,o,l,t,n);le()("".concat(e.year,".").concat(e.date,". ").concat(e.time)).isBefore(le()())||r(M(Object(b.a)(Object(b.a)({},e),{},{raw:t,cell:n})))}),[s,o,l,t,n])}}(e).onClick;return Object(Z.jsx)("td",{onClick:t,style:{width:"calc(100% / ".concat(e.rowsQuantity,")"),backgroundColor:e.selected?"#E5E5E5":""}})};function de(e){var t=e.rows,n=e.columns,c={newSelectedAppointment:Object(i.c)((function(e){return e.scheduler.newSelectedAppointment}))}.newSelectedAppointment;return Object(Z.jsx)("div",{className:"scheduler__bodyTable",children:Object(Z.jsx)("table",{children:Object(Z.jsx)("tbody",{children:t.map((function(e,a){return Object(Z.jsx)("tr",{children:n.map((function(e,n){return Object(Z.jsx)(ue,{selected:(null===c||void 0===c?void 0:c.raw)===a&&(null===c||void 0===c?void 0:c.cell)===n,rowsQuantity:t.length,raw:a,cell:n},Object(O.a)())}))},Object(O.a)())}))})})})}var be=function(){var e=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.token})).token,n=Object(i.c)((function(e){return e.scheduler})),a=n.options,r=n.isLoading,o=n.appointments;Object(c.useEffect)((function(){t&&!r&&(Q(e,t),F(e,t))}),[t]);var s=Object(c.useMemo)((function(){return null===a||void 0===a?void 0:a.rooms}),[a]),d=Object(c.useMemo)((function(){return null===a||void 0===a?void 0:a.work_time}),[a]),j=Object(c.useMemo)((function(){return r||!a}),[r,s,d]),p=Object(c.useMemo)((function(){return new Array((null===s||void 0===s?void 0:s.length)||0).fill(1)}),[s]),m=Object(c.useMemo)((function(){return null===a||void 0===a?void 0:a.day_and_date}),[a]),f=Object(c.useMemo)((function(){return new Array((null===d||void 0===d?void 0:d.length)*(null===m||void 0===m?void 0:m.length)||0).fill(1)}),[d]),v=Object(c.useCallback)((function(n){var c=U(d,s,m,n.y,n.x),a=c.year,r=c.date,o=c.time,i=c.room,l="".concat(a,".").concat(r,". ").concat(o);t&&X(e,t,{date_time:l,room_id:i},n.i)}),[d,m,s,m]),O=Object(c.useCallback)(function(){var n=Object(u.a)(l.a.mark((function n(c){var a,r,o,i;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=c.x,r=c.y,o=c.i,i=U(d,s,m,r,a),!t){n.next=5;break}return n.next=5,J(e,t,o);case 5:e(P(Object(b.a)(Object(b.a)({},i),{},{i:o})));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[d,s,m]);return{shouldLoad:j,rooms:s,hours:d,tableRows:f,tableColumns:p,days:m,appointments:o,handleAppointmentDrag:v,onAppointmentClick:O}}(),t=e.shouldLoad,n=e.rooms,a=e.hours,r=e.tableRows,o=e.tableColumns,s=e.days,d=e.appointments,j=e.handleAppointmentDrag,p=e.onAppointmentClick;return t?Object(Z.jsx)("div",{className:"scheduler",children:Object(Z.jsx)($,{})}):Object(Z.jsxs)("div",{className:"scheduler",children:[Object(Z.jsxs)("div",{className:"scheduler__header",children:[Object(Z.jsx)("div",{}),Object(Z.jsx)("div",{children:Object(Z.jsx)("table",{children:Object(Z.jsx)("tbody",{children:Object(Z.jsx)("tr",{children:n.map((function(e){var t=e.title;return Object(Z.jsx)("td",{style:{width:"calc(100% / ".concat(n.length,")")},children:t},t)}))})})})})]}),Object(Z.jsxs)("div",{className:"scheduler__body",children:[Object(Z.jsx)("div",{className:"scheduler__dayBar",children:s.map((function(e){return Object(Z.jsx)(ee,{day:e,hours:a},Object(O.a)())}))}),Object(Z.jsxs)("div",{className:"scheduler__appointments",children:[Object(Z.jsx)(de,{rows:r,columns:o}),Object(Z.jsx)(ie,{appointments:d,cols:o.length,handleDrag:j,handleClick:p})]})]})]})},je=(n(170),n(225)),pe=n(226),me=n(213),fe=n(220),ve=function(e){var t=e.onChange,n=e.data,a=e.label,r=e.selectedValue,o=e.disabled,i=e.size,s=void 0===i?"medium":i,l=Object(c.useState)(r||""),u=Object(te.a)(l,2),d=u[0],b=u[1];Object(c.useEffect)((function(){b(r||"")}),[r]);return Object(Z.jsxs)(me.a,{variant:"outlined",className:"customSelect",size:s,children:[Object(Z.jsx)(je.a,{children:a}),Object(Z.jsxs)(fe.a,{value:d,onChange:function(e){var n=e.target.value;b(n),t(n)},disabled:o||0===n.length,children:[Object(Z.jsx)(pe.a,{value:"",children:Object(Z.jsx)("em",{children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"})}),n.map((function(e){var t=e.id,n=e.title;return Object(Z.jsx)(pe.a,{value:t,children:n},t)}))]})]})},Oe=Object(c.memo)(ve);function he(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j({url:"".concat(d,"/api/filter/dropdown"),headers:{Authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var ye=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(n);case 2:c=e.sent,t({type:T,payload:c});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function _e(e,t){return ge.apply(this,arguments)}function ge(){return(ge=Object(u.a)(l.a.mark((function e(t,n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j({url:"".concat(d,"/api/filter/developer/info/").concat(n),headers:{Authorization:"Bearer ".concat(t)}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var Ce=function(){var e=Object(u.a)(l.a.mark((function e(t,n,c){var a,r,o=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>3&&void 0!==o[3]&&o[3],e.next=3,_e(n,c);case 3:return r=e.sent,a||t(D(r)),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}();function ke(e,t){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(u.a)(l.a.mark((function e(t,n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j({url:"".concat(d,"/api/filter/sort/calendar"),headers:{Authorization:"Bearer ".concat(t)},method:"POST",bodyData:n});case 3:return c=e.sent,e.abrupt("return",c);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var we=function(){var e=Object(u.a)(l.a.mark((function e(t,n,c){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(n,c);case 2:a=e.sent,r=a.data,a.success&&t(I(Object.values(r)));case 6:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),Se=function(){var e=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.token})).token,n=Object(i.c)((function(e){return e.scheduler})).filterInitialData;Object(c.useEffect)((function(){t&&ye(e,t)}),[t]);var a=Object(c.useMemo)((function(){return null===n||void 0===n?void 0:n.reader}),[n]),r=Object(c.useMemo)((function(){return null===n||void 0===n?void 0:n.notary}),[n]),o=Object(c.useMemo)((function(){return null===n||void 0===n?void 0:n.accompanying}),[n]),s=Object(c.useMemo)((function(){return null===n||void 0===n?void 0:n.contract_type}),[n]),l=Object(c.useMemo)((function(){return null===n||void 0===n?void 0:n.developer}),[n]),u=Object(c.useState)([]),d=Object(te.a)(u,2),b=d[0],j=d[1],p=Object(c.useMemo)((function(){return Boolean(n)}),[n]),m=Object(c.useState)(null),f=Object(te.a)(m,2),v=f[0],O=f[1],h=Object(c.useState)(null),x=Object(te.a)(h,2),y=x[0],_=x[1],g=Object(c.useState)(null),C=Object(te.a)(g,2),k=C[0],N=C[1],w=Object(c.useState)(null),S=Object(te.a)(w,2),A=S[0],E=S[1],T=Object(c.useState)(null),I=Object(te.a)(T,2),D=I[0],M=I[1],P=Object(c.useState)(null),B=Object(te.a)(P,2),L=B[0],R=B[1];return Object(c.useEffect)((function(){R(null),t&&D&&Ce(e,t,+D,!0).then((function(e){return j(e.representative||[])}))}),[D]),Object(c.useEffect)((function(){t&&we(e,t,{notary_id:v,reader_id:y,giver_id:k,contract_type_id:A,developer_id:D,dev_assistant_id:L})}),[v,y,k,A,D,L]),{shouldRenderFilter:p,notaries:r,readers:a,accompanyings:o,contractTypes:s,developers:l,representative:b,setSelectedNotary:O,setSelectedReader:_,setSelectedAccompanying:N,setSelectedContractType:E,setSelectedDeveloper:M,setSelectedRepresentative:R}}();return e.shouldRenderFilter?Object(Z.jsxs)("div",{className:"filter",children:[Object(Z.jsx)("span",{style:{whiteSpace:"nowrap"},children:"\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u043f\u043e:"}),Object(Z.jsx)("div",{className:"mh6 filter__select",style:{width:"115px"},children:Object(Z.jsx)(Oe,{data:e.notaries,onChange:e.setSelectedNotary,label:"\u041d\u043e\u0442\u0430\u0440\u0456\u0443\u0441",size:"small"})}),Object(Z.jsx)("div",{className:"mh6 filter__select",style:{width:"90px"},children:Object(Z.jsx)(Oe,{data:e.readers,onChange:e.setSelectedReader,label:"\u0427\u0438\u0442\u0430\u0447",size:"small"})}),Object(Z.jsx)("div",{className:"mh6 filter__select",style:{width:"110px"},children:Object(Z.jsx)(Oe,{data:e.accompanyings,onChange:e.setSelectedAccompanying,label:"\u0412\u0438\u0434\u0430\u0432\u0430\u0447",size:"small"})}),Object(Z.jsx)("div",{className:"mh6 filter__select",style:{width:"150px"},children:Object(Z.jsx)(Oe,{data:[],onChange:e.setSelectedContractType,label:"\u0422\u0438\u043f \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0443",size:"small"})}),Object(Z.jsx)("div",{className:"mh6 filter__select",style:{width:"140px"},children:Object(Z.jsx)(Oe,{data:e.developers,onChange:e.setSelectedDeveloper,label:"\u0417\u0430\u0431\u0443\u0434\u043e\u0432\u043d\u0438\u043a",size:"small"})}),Object(Z.jsx)("div",{className:"mh6 filter__select",style:{width:"125px"},children:Object(Z.jsx)(Oe,{data:e.representative,onChange:e.setSelectedRepresentative,label:"\u041f\u0456\u0434\u043f\u0438\u0441\u0430\u043d\u0442",size:"small"})})]}):null},Ae=function(){var e=Object(i.c)((function(e){return e.scheduler})).appointments;return Object(Z.jsx)("span",{style:{whiteSpace:"nowrap"},children:"\u0412 \u0440\u043e\u0431\u043e\u0442\u0456: ".concat(null===e||void 0===e?void 0:e.length)})},Ee=(n(171),function(){return Object(Z.jsxs)("div",{className:"scheduler__filter",children:[Object(Z.jsx)(Ae,{}),Object(Z.jsx)(Se,{})]})}),Te=(n(172),n(173),n(221)),Ie=n(219),De=n(184),Me=function(e){var t=e.open,n=e.handleClose,c=e.success,a=e.message;return Object(Z.jsx)(Te.a,{className:"modal-container",open:t,onClose:n,closeAfterTransition:!0,BackdropComponent:Ie.a,BackdropProps:{timeout:500},children:Object(Z.jsx)(De.a,{in:t,children:Object(Z.jsx)("div",{className:"modal ".concat(c?"modal-success":"modal-failed"),children:Object(Z.jsx)("p",{className:"message",children:a})})})})},Pe=(n(174),function(e){var t=e.buttons,n=e.onChange,a=e.selected,r=e.unicId,o=Object(c.useState)(a||t[0].id),i=Object(te.a)(o,2),s=i[0],l=i[1];Object(c.useEffect)((function(){l(a||t[0].id)}),[a]);var u=function(e){n(e)};return Object(Z.jsx)("div",{className:"radio-buttons-group",children:t.map((function(e){var n=e.id,c=e.title;return Object(Z.jsxs)("div",{className:"radio-buttons-group__element ".concat(1===t.length?"edit":""),children:[Object(Z.jsx)("input",{type:"radio",id:r+c,value:n,checked:s===n,onChange:function(){return u(n)},className:"input"}),Object(Z.jsx)("label",{htmlFor:r+c,className:"label",children:c})]})}))})}),Be=Object(c.memo)(Pe),Le=(n(175),n(176),n(177),function(e){var t=e.onClick,n=e.disabled,c=function(){n||t()};return Object(Z.jsx)("div",{className:"add-form-button ".concat(n?"disabled":""),onClick:c,onKeyPress:c,children:Object(Z.jsx)("img",{src:"/icons/plus.svg",alt:"plus"})})}),Re=(n(178),n(228)),ze=function(e){var t=e.label,n=e.onChange,a=e.value,r=void 0===a?"":a,o=e.type,i=void 0===o?"string":o,s=e.disabled,l=Object(c.useState)(r||""),u=Object(te.a)(l,2),d=u[0],b=u[1];Object(c.useEffect)((function(){b(r||"")}),[r]);return Object(Z.jsx)(Re.a,{label:t,variant:"outlined",value:d,onChange:function(e){b(e.target.value),n(e.target.value)},type:i,className:"custom-input",disabled:s||!1})},Fe=(n(179),function(e){var t=e.onClick,n=e.index,c=e.disabled;return Object(Z.jsx)("div",{className:"remove-form-button ".concat(c?"disabled":""),onClick:function(){c||t(n)},onKeyPress:function(){return t(n)},children:Object(Z.jsx)("img",{src:"/icons/minus.svg",alt:"minus"})})}),Ve=function(e){var t=function(e){var t=e.onChange,n=e.clients;return{onPhoneChange:Object(c.useCallback)((function(e,c){t(e,Object(b.a)(Object(b.a)({},n[e]),{},{phone:c}))}),[n]),onNameChange:Object(c.useCallback)((function(e,c){t(e,Object(b.a)(Object(b.a)({},n[e]),{},{full_name:c}))}),[n])}}(e);return Object(Z.jsx)("div",{className:"mv12",children:e.clients.map((function(n,c){return Object(Z.jsxs)("div",{className:"clients__item mv12",children:[Object(Z.jsx)(ze,{label:"\u041f\u0406\u0411",value:n.full_name,onChange:function(e){return t.onNameChange(c,e)},disabled:e.disabled||!1}),Object(Z.jsxs)("div",{className:"mv12 df-jc-sb",children:[Object(Z.jsx)(ze,{label:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443",value:n.phone,onChange:function(e){return t.onPhoneChange(c,e)},disabled:e.disabled||!1}),e.clients.length>1&&Object(Z.jsx)("div",{style:{marginLeft:"12px"},children:Object(Z.jsx)(Fe,{onClick:e.onRemove,index:c,disabled:e.disabled||!1})}),c===e.clients.length-1&&Object(Z.jsx)("div",{style:{marginLeft:"12px"},children:Object(Z.jsx)(Le,{onClick:e.onAdd,disabled:e.disabled||!1})})]})]})}))})},Ge=Object(c.memo)(Ve),Je=(n(180),function(e){var t=e.label,n=e.onClick,c=e.disabled,a=e.className;return Object(Z.jsx)("button",{className:"primary-button ".concat(c?"disabled":""," ").concat(a||""),onClick:n,disabled:c,children:t})}),Ke=(n(181),n(229)),We=n(224),Qe=(n(182),function(e){var t=e.label,n=e.onChange,a=e.selected,r=e.disabled,o=Object(c.useState)(a),i=Object(te.a)(o,2),s=i[0],l=i[1];return Object(c.useEffect)((function(){l(a)}),[a]),Object(Z.jsx)(Ke.a,{control:Object(Z.jsx)(We.a,{checked:s,onChange:function(e){l(e.target.checked),n(e.target.checked)},name:"checkedB",color:"primary"}),label:t,labelPlacement:"start",className:"custom-switch",disabled:r||!1})}),Ue=Object(c.memo)(Qe),He=function(e){var t=function(e){var t=e.immovables,n=e.onChange,a=Object(i.c)((function(e){return e.scheduler})),r=a.options,o=a.developersInfo;return{building:Object(c.useMemo)((function(){return(null===o||void 0===o?void 0:o.building)||[]}),[o]),contracts:Object(c.useMemo)((function(){return null===r||void 0===r?void 0:r.form_data.contract_type}),[r]),immovableTypes:Object(c.useMemo)((function(){return null===r||void 0===r?void 0:r.form_data.immovable_type}),[r]),onContractChange:Object(c.useCallback)((function(e,c){n(e,Object(b.a)(Object(b.a)({},t[e]),{},{contract_type_id:c}))}),[t]),onBuildingChange:Object(c.useCallback)((function(e,c){n(e,Object(b.a)(Object(b.a)({},t[e]),{},{building_id:+c}))}),[t]),onImmovableTypeChange:Object(c.useCallback)((function(e,c){n(e,Object(b.a)(Object(b.a)({},t[e]),{},{imm_type_id:c}))}),[t]),onBankChange:Object(c.useCallback)((function(e,c){n(e,Object(b.a)(Object(b.a)({},t[e]),{},{bank:c}))}),[t]),onProxyChange:Object(c.useCallback)((function(e,c){n(e,Object(b.a)(Object(b.a)({},t[e]),{},{proxy:c}))}),[t]),onImmNumChange:Object(c.useCallback)((function(e,c){n(e,Object(b.a)(Object(b.a)({},t[e]),{},{imm_number:+c}))}),[t])}}(e);return Object(Z.jsx)("div",{className:"mv12 immovables__group",children:e.immovables.map((function(n,c){return Object(Z.jsxs)("div",{className:"immovables__item mv12",children:[Object(Z.jsx)(Be,{buttons:e.disabled?t.contracts.filter((function(e){return e.id===(n.contract_type_id||t.contracts[0].id)})):t.contracts,onChange:function(e){return t.onContractChange(c,e)},selected:n.contract_type_id,unicId:"contract-".concat(c)}),Object(Z.jsx)("div",{className:"mv12",children:Object(Z.jsx)(Oe,{onChange:function(e){return t.onBuildingChange(c,e)},data:t.building,label:"\u0411\u0443\u0434\u0438\u043d\u043e\u043a",selectedValue:n.building_id,disabled:e.disabled||!1})}),Object(Z.jsx)(Be,{buttons:e.disabled?t.immovableTypes.filter((function(e){return e.id===(n.imm_type_id||t.immovableTypes[0].id)})):t.immovableTypes,onChange:function(e){return t.onImmovableTypeChange(c,e)},selected:n.imm_type_id,unicId:"types-".concat(c)}),Object(Z.jsx)("div",{className:"mv12",children:Object(Z.jsx)(Ue,{label:"\u0411\u0430\u043d\u043a",onChange:function(e){return t.onBankChange(c,e)},selected:n.bank,disabled:e.disabled})}),Object(Z.jsx)("div",{className:"mv12",children:Object(Z.jsx)(Ue,{label:"\u0414\u043e\u0432\u0456\u0440\u0435\u043d\u0456\u0441\u0442\u044c",onChange:function(e){return t.onProxyChange(c,e)},selected:n.proxy,disabled:e.disabled})}),Object(Z.jsxs)("div",{className:"mv12 df-jc-sb",children:[Object(Z.jsx)(ze,{label:"\u041d\u043e\u043c\u0435\u0440 \u043f\u0440\u0438\u043c\u0456\u0449\u0435\u043d\u043d\u044f",onChange:function(e){return t.onImmNumChange(c,e)},value:n.imm_number,disabled:e.disabled},"test"),e.immovables.length>1&&Object(Z.jsx)("div",{style:{marginLeft:"12px"},children:Object(Z.jsx)(Fe,{onClick:e.onRemove,index:c,disabled:e.disabled})}),c===e.immovables.length-1&&Object(Z.jsx)("div",{style:{marginLeft:"12px"},children:Object(Z.jsx)(Le,{onClick:e.onAdd,disabled:e.disabled})})]})]})}))})},qe=Object(c.memo)(He),Xe=n(31),Ye={contract_type_id:null,building_id:null,imm_type_id:null,imm_number:null,bank:!1,proxy:!1},Ze={phone:null,full_name:null};function $e(e,t){return et.apply(this,arguments)}function et(){return(et=Object(u.a)(l.a.mark((function e(t,n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j({url:"".concat(d,"/api/cards"),headers:{Authorization:"Bearer ".concat(t)},method:"POST",bodyData:n});case 3:return c=e.sent,e.abrupt("return",c);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var tt=function(){var e=Object(u.a)(l.a.mark((function e(t,n,c){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e(n,c);case 2:return a=e.sent,t(R({open:!0,success:a.success,message:a.message})),a.success&&t((r=a.data,{type:S,payload:r})),e.abrupt("return",{success:a.success});case 6:case"end":return e.stop()}var r}),e)})));return function(t,n,c){return e.apply(this,arguments)}}();function nt(e,t,n){return ct.apply(this,arguments)}function ct(){return(ct=Object(u.a)(l.a.mark((function e(t,n,c){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j({url:"".concat(d,"/api/cards/").concat(c),headers:{Authorization:"Bearer ".concat(t)},method:"PUT",bodyData:n});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var at=function(){var e=Object(u.a)(l.a.mark((function e(t,n,c,a){var r,o,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt(n,c,a);case 2:r=e.sent,o=r.success,i=r.message,s=r.data,t(R({open:!0,success:o,message:i})),o&&t(L(s));case 8:case"end":return e.stop()}}),e)})));return function(t,n,c,a){return e.apply(this,arguments)}}(),rt=function(e){var t=function(e){var t=e.selectedCard,n=e.initialValues,a=e.edit,r=Object(i.b)(),o=Object(i.c)((function(e){return e.token})).token,s=Object(i.c)((function(e){return e.scheduler})),l=s.options,u=s.developersInfo,d=s.isLoading,j=Object(c.useState)(a||!1),p=Object(te.a)(j,2),m=p[0],f=p[1],v=Object(c.useState)((null===n||void 0===n?void 0:n.card.notary_id)||null),O=Object(te.a)(v,2),h=O[0],x=O[1],y=Object(c.useState)(null),_=Object(te.a)(y,2),g=_[0],C=_[1],k=Object(c.useState)(null),N=Object(te.a)(k,2),w=N[0],S=N[1],A=Object(c.useState)(null),E=Object(te.a)(A,2),T=E[0],I=E[1],L=Object(c.useState)([Ye]),R=Object(te.a)(L,2),z=R[0],F=R[1],V=Object(c.useState)([Ze]),G=Object(te.a)(V,2),J=G[0],K=G[1],W=Object(c.useMemo)((function(){return d||!l}),[l,d]),Q=Object(c.useMemo)((function(){return null===l||void 0===l?void 0:l.form_data.notary}),[l]),U=Object(c.useMemo)((function(){return null===l||void 0===l?void 0:l.form_data.developer}),[l]),H=Object(c.useMemo)((function(){return(null===u||void 0===u?void 0:u.manager)||[]}),[u]),q=Object(c.useMemo)((function(){return(null===u||void 0===u?void 0:u.representative)||[]}),[u]),X=Object(c.useCallback)((function(e){x(e)}),[]);Object(c.useEffect)((function(){n&&(f(!0),x(n.card.notary_id),C(n.card.dev_company_id),S(n.card.dev_representative_id),I(n.card.dev_manager_id),F(0===n.immovables.length?[Ye]:n.immovables),K(0===n.clients.length?[Ze]:n.clients)),(null===n||void 0===n?void 0:n.card.dev_company_id)&&o&&Ce(r,o,n.card.dev_company_id)}),[n]);var Y=Object(c.useCallback)((function(e){C(e),e||r(D({})),o&&Ce(r,o,e)}),[o,g]),Z=Object(c.useCallback)((function(e){S(e)}),[w]),$=Object(c.useCallback)((function(e){I(e)}),[T]),ee=Object(c.useCallback)((function(e,t){z[e]=t,F(Object(Xe.a)(z))}),[z]),ne=Object(c.useCallback)((function(e,t){J[e]=t,K(Object(Xe.a)(J))}),[J]),ce=Object(c.useCallback)((function(){x(null),C(null),S(null),I(null),F([Ye]),K([Ze])}),[]),ae=Object(c.useCallback)((function(){F([].concat(Object(Xe.a)(z),[Ye]))}),[z]),re=Object(c.useCallback)((function(e){F((function(t){return t.filter((function(t,n){return n!==e}))}))}),[z]),oe=Object(c.useCallback)((function(){K([].concat(Object(Xe.a)(J),[Ze]))}),[J]),ie=Object(c.useCallback)((function(e){K((function(t){return t.filter((function(t,n){return n!==e}))}))}),[J]),se=Object(c.useMemo)((function(){return Boolean(g)&&z.length&&z.every((function(e){return e.building_id&&e.imm_number}))&&t}),[g,z,t]),le=Object(c.useCallback)((function(){var e="".concat(t.year,".").concat(t.date,". ").concat(t.time),n={immovables:z.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{contract_type_id:e.contract_type_id||l.form_data.immovable_type[0].id,imm_type_id:e.imm_type_id||l.form_data.immovable_type[0].id,imm_num:e.imm_number})})),clients:J,date_time:e,dev_company_id:g,dev_representative_id:w,dev_manager_id:T,room_id:t.room,notary_id:h||Q[0].id};o&&(a?(at(r,o,n,t.i),f(!0)):(tt(r,o,n).then((function(e){e.success&&ce()})),r(M(null))))}),[g,w,T,h,z,J,a,t]),ue=Object(c.useCallback)((function(){r(P(null)),r(B(null))}),[]);return{shouldLoad:W,notaries:Q,representative:q,developers:U,manager:H,selectedNotaryId:h,selectedDeveloperId:g,selectedDevRepresentativeId:w,selecedDevManagerId:T,immovables:z,clients:J,activeAddButton:se,insideEdit:m,onNotaryChange:X,onDeveloperChange:Y,onRepresentativeChange:Z,onManagerChange:$,onImmovablesChange:ee,onAddImmovables:ae,onRemoveImmovable:re,onRemoveClient:ie,onClientsChange:ne,onAddClients:oe,onClearAll:ce,onFormCreate:le,onCloseForm:ue,setEdit:f}}(e);return t.shouldLoad?Object(Z.jsx)("div",{className:"scheduler__form schedulerForm",children:Object(Z.jsx)($,{})}):Object(Z.jsx)("div",{className:"schedulerForm",children:Object(Z.jsxs)("div",{className:"schedulerForm__forms",children:[Object(Z.jsxs)("div",{className:"schedulerForm__header",children:[Object(Z.jsx)("p",{className:"title",children:t.insideEdit||e.edit?"\u0417\u0430\u043f\u0438\u0441 \u2116 ".concat(e.selectedCard.i):"\u041d\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441"}),t.insideEdit?Object(Z.jsx)("img",{src:"/icons/x.svg",alt:"clear icon",className:"clear-icon",onClick:t.onCloseForm}):Object(Z.jsx)("img",{src:"/icons/clear.svg",alt:"clear icon",className:"clear-icon",onClick:t.onClearAll})]}),Object(Z.jsx)("div",{className:"mv12",children:Object(Z.jsx)(Be,{buttons:t.insideEdit?t.notaries.filter((function(e){return e.id===t.selectedNotaryId})):t.notaries,onChange:t.onNotaryChange,selected:t.selectedNotaryId,unicId:"notaries"})}),Object(Z.jsx)("div",{className:"mv12",children:Object(Z.jsx)(Oe,{label:"\u0417\u0430\u0431\u0443\u0434\u043e\u0432\u043d\u0438\u043a",data:t.developers,onChange:t.onDeveloperChange,selectedValue:t.selectedDeveloperId,disabled:t.insideEdit||!1})}),Object(Z.jsx)("div",{className:"mv12",children:Object(Z.jsx)(Oe,{onChange:t.onRepresentativeChange,data:t.representative,label:"\u041f\u0456\u0434\u043f\u0438\u0441\u0430\u043d\u0442",selectedValue:t.selectedDevRepresentativeId,disabled:t.insideEdit||!1})}),Object(Z.jsx)("div",{className:"mv12",children:Object(Z.jsx)(Oe,{onChange:t.onManagerChange,data:t.manager,label:"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440",selectedValue:t.selecedDevManagerId,disabled:t.insideEdit||!1})}),Object(Z.jsx)(qe,{immovables:t.immovables,onChange:t.onImmovablesChange,onAdd:t.onAddImmovables,onRemove:t.onRemoveImmovable,disabled:t.insideEdit||!1}),Object(Z.jsx)(Ge,{clients:t.clients,onChange:t.onClientsChange,onAdd:t.onAddClients,onRemove:t.onRemoveClient,disabled:t.insideEdit||!1}),Object(Z.jsxs)("div",{className:"mv12",children:[t.insideEdit&&Object(Z.jsx)(Je,{label:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",onClick:function(){return t.setEdit(!1)},disabled:!e.edit&&!t.activeAddButton,className:"schedulerForm__editButton"}),!t.insideEdit&&Object(Z.jsx)(Je,{label:"".concat(e.edit?"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438":"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438"),onClick:t.onFormCreate,disabled:!t.activeAddButton})]})]})})},ot=Object(c.memo)(rt),it=function(){var e=function(){var e=Object(c.useState)(0),t=Object(te.a)(e,2),n=t[0],a=t[1],r=Object(i.b)(),o=Object(i.c)((function(e){return e.scheduler.newSelectedAppointment})),s=Object(i.c)((function(e){return e.scheduler.oldSelectedAppointment})),l=Object(i.c)((function(e){return e.scheduler.editAppointmentData}));Object(c.useEffect)((function(){a(l?1:0)}),[l]),Object(c.useEffect)((function(){a(0)}),[o]);var u=Object(i.c)((function(e){return e.scheduler.modalInfo})),d=Object(c.useMemo)((function(){return Object(b.a)(Object(b.a)({},u),{},{handleClose:function(){return r(R(Object(b.a)(Object(b.a)({},u),{},{open:!1})))}})}),[u]);return{newSelectedAppointment:o,oldSelectedAppointment:s,editAppointmentData:l,modalProps:d,selectedTab:n,setSelectedTab:a}}();return Object(Z.jsxs)("div",{className:"schedulerForm scheduler__form",children:[Object(Z.jsxs)("div",{className:"schedulerForm__tabs",children:[Object(Z.jsx)("div",{className:"item ".concat(0===e.selectedTab?"selected":""),onClick:function(){return e.setSelectedTab(0)},children:e.newSelectedAppointment?"".concat(e.newSelectedAppointment.day," ").concat(e.newSelectedAppointment.time," ").concat(e.newSelectedAppointment.date):"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0430\u0442\u0443"}),e.oldSelectedAppointment&&e.editAppointmentData&&Object(Z.jsx)("div",{className:"item ".concat(1===e.selectedTab?"selected":""),onClick:function(){return e.setSelectedTab(1)},children:"".concat(e.oldSelectedAppointment.day," ").concat(e.oldSelectedAppointment.time," ").concat(e.oldSelectedAppointment.date)})]}),0===e.selectedTab&&Object(Z.jsx)(ot,{selectedCard:e.newSelectedAppointment}),1===e.selectedTab&&e.editAppointmentData&&Object(Z.jsx)(ot,{selectedCard:e.oldSelectedAppointment,initialValues:e.editAppointmentData,edit:!0}),Object(Z.jsx)(Me,Object(b.a)({},e.modalProps))]})},st=function(){return Object(Z.jsxs)("div",{className:"scheduler__container",children:[Object(Z.jsxs)("div",{className:"scheduler__dataView",children:[Object(Z.jsx)(Ee,{}),Object(Z.jsx)(be,{})]}),Object(Z.jsx)(it,{})]})},lt=function(){return Object(Z.jsx)(st,{})},ut=function(){return function(){var e=Object(i.b)();Object(c.useEffect)((function(){v(e)}),[])}(),Object(Z.jsx)(lt,{})},dt=n(42),bt={token:null},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(b.a)(Object(b.a)({},e),{},{token:t.payload});default:return e}},pt={options:null,appointments:[],developersInfo:{},newSelectedAppointment:null,oldSelectedAppointment:null,editAppointmentData:null,modalInfo:{open:!1,success:!1,message:""},isLoading:!1,filterInitialData:null},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(b.a)(Object(b.a)({},e),{},{options:t.payload});case _:return Object(b.a)(Object(b.a)({},e),{},{appointments:t.payload});case S:return Object(b.a)(Object(b.a)({},e),{},{appointments:[].concat(Object(Xe.a)(e.appointments),[t.payload])});case E:return Object(b.a)(Object(b.a)({},e),{},{appointments:[].concat(Object(Xe.a)(e.appointments.filter((function(e){return e.i!==t.payload.i}))),[t.payload])});case g:return Object(b.a)(Object(b.a)({},e),{},{developersInfo:t.payload});case w:return Object(b.a)(Object(b.a)({},e),{},{isLoading:t.payload});case C:return Object(b.a)(Object(b.a)({},e),{},{newSelectedAppointment:t.payload});case k:return Object(b.a)(Object(b.a)({},e),{},{oldSelectedAppointment:t.payload});case N:return Object(b.a)(Object(b.a)({},e),{},{editAppointmentData:t.payload});case A:return Object(b.a)(Object(b.a)({},e),{},{modalInfo:t.payload});case T:return Object(b.a)(Object(b.a)({},e),{},{filterInitialData:t.payload});default:return e}},ft=Object(dt.b)({token:jt,scheduler:mt}),vt=Object(dt.c)(ft);o.a.render(Object(Z.jsx)(a.a.StrictMode,{children:Object(Z.jsx)(i.a,{store:vt,children:Object(Z.jsx)(ut,{})})}),document.getElementById("root"))}},[[183,1,2]]]);
//# sourceMappingURL=main.fc8e0fe8.chunk.js.map